create table input
(specification_mix varchar(30),
actual_value int);

create table output_tbl
(specification_mix varchar(30),
Actual_val int,
Ash_val int,
moisture_val int,
protein_val int);

INSERT INTO INPUT VALUES('Ash 12345 Mix',12);
INSERT INTO INPUT VALUES('Moisture 1234 TY',13);			
INSERT INTO INPUT VALUES('Protein 12A',10);			
INSERT INTO INPUT VALUES('Ash ABC 124',11);			
INSERT INTO INPUT VALUES('Moisture WinterWheat',14);

SELECT * FROM INPUT;

SELECT * FROM OUTPUT_TBL;

COMMIT;


CREATE OR REPLACE PROCEDURE MOISTURE_SP AS
CURSOR MOISTURE IS SELECT SPECIFICATION_MIX,ACTUAL_VALUE 
                       FROM INPUT;                    
CNT NUMBER; 
BEGIN
FOR I IN MOISTURE LOOP
 SELECT COUNT(*) INTO CNT 
        FROM OUTPUT_TBL WHERE SPECIFICATION_MIX=I.SPECIFICATION_MIX AND ACTUAL_VAL=I.ACTUAL_VALUE;
IF CNT =0 THEN
    IF I.SPECIFICATION_MIX LIKE 'Ash%' THEN
        INSERT INTO OUTPUT_TBL VALUES(I.SPECIFICATION_MIX,I.ACTUAL_VALUE,I.ACTUAL_VALUE,0,0);
    ELSIF I.SPECIFICATION_MIX LIKE 'Moisture%' THEN
        INSERT INTO OUTPUT_TBL VALUES(I.SPECIFICATION_MIX,I.ACTUAL_VALUE,0,I.ACTUAL_VALUE,0);
    ELSIF I.SPECIFICATION_MIX LIKE 'Protein%' THEN
        INSERT INTO OUTPUT_TBL VALUES(I.SPECIFICATION_MIX,I.ACTUAL_VALUE,0,0,I.ACTUAL_VALUE);
    ELSE
        DBMS_OUTPUT.PUT_LINE('NOT IN COLUMN');
    END IF;
END IF;
END LOOP;
END;


EXEC MOISTURE_SP;

SET SERVEROUTPUT ON

SELECT * FROM OUTPUT_TBL;